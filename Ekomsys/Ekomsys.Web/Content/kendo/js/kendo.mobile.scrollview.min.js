/*
* Kendo UI Complete v2013.1.518 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.application.min"],function(){(function(e){var n=window.kendo,i=n.mobile,t=i.ui,o=e.proxy,a=n.effects.Transition,s=n.ui.Pane,r=n.ui.PaneDimensions,l=t.Widget,d=Math,c=d.abs,h=d.ceil,p=d.round,g=d.max,m=d.min,u=d.floor,v="change",f="changing",w="km-current-page",x=l.extend({init:function(i,t){var d,h,p,g,m,u,f=this;l.fn.init.call(f,i,t),i=f.element,i.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),f.inner=i.children().first(),f.pager=i.children().last(),f.page=0,f.inner.css("height",f.options.contentHeight),f.container().bind("show",e.proxy(this,"viewShow")).bind("init",e.proxy(this,"viewInit")),d=new n.ui.Movable(f.inner),h=new a({axis:"x",movable:d,onEnd:o(f._transitionEnd,f)}),p=new n.UserEvents(i,{start:function(e){2*c(e.x.velocity)>=c(e.y.velocity)?p.capture():p.cancel(),h.cancel()},allowSelection:!0,end:o(f._dragEnd,f)}),g=new r({element:f.inner,container:f.element}),m=g.x,m.bind(v,o(f.refresh,f)),u=new s({dimensions:g,userEvents:p,movable:d,elastic:!0}),e.extend(f,{movable:d,transition:h,userEvents:p,dimensions:g,dimension:m,pane:u}),f.page=f.options.page},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,contentHeight:"auto",pageSize:1,bounceVelocityThreshold:1.6},events:[f,v],destroy:function(){l.fn.destroy.call(this),this.userEvents.destroy(),n.destroy(this.element)},viewInit:function(){this.movable.moveAxis("x",-this.page*this.dimension.getSize())},viewShow:function(){this.dimensions.refresh()},refresh:function(){var e,n,i=this,t="",o=i.dimension,a=o.getSize(),s=i.element.find("[data-role=page]");for(s.width(a),o.update(!0),s[0]||(i.page=Math.floor(-i.movable.x/a)),i.scrollTo(i.page,!0),e=i.pages=h(o.getTotal()/a),i.minSnap=-(e-1)*a,i.maxSnap=0,n=0;e>n;n++)t+="<li/>";i.pager.html(t),i._updatePager()},content:function(e){this.element.children().first().html(e),this.dimensions.refresh()},scrollTo:function(e,n){this.page=e,this._moveTo(-e*this.dimension.getSize(),a.easeOutExpo,n)},_moveTo:function(e,n,i){this.transition.moveTo({location:e,duration:i?1:this.options.duration,ease:n})},_dragEnd:function(e){var n,i,t=this,o=e.x.velocity,s=t.dimension.size*t.options.pageSize,r=t.options,l=r.velocityThreshold,d=p,v=a.easeOutExpo;o>l?d=h:-l>o&&(d=u),c(o)>r.bounceVelocityThreshold&&(v=a.easeOutBack),i=-d(t.movable.x/s),n=g(t.minSnap,m(-i*s,t.maxSnap)),i!=t.page&&this.trigger(f,{currentPage:t.page,nextPage:i})&&(n=-t.page*t.dimension.getSize()),this._moveTo(n,v)},_transitionEnd:function(){var e=this,n=Math.round(-e.movable.x/e.dimension.size);n!=e.page&&(e.page=n,e.trigger(v,{page:n}),e._updatePager())},_updatePager:function(){this.pager.children().removeClass(w).eq(this.page).addClass(w)}});t.plugin(x)})(window.kendo.jQuery)});